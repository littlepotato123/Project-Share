{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sopan\\\\OneDrive\\\\Documents\\\\Personal Projects\\\\Project-Share\\\\project-share\\\\src\\\\Components\\\\Posts\\\\Posts.js\";\nimport React, { useState } from 'react';\nimport Commenting from './Comments';\nconst proxyUrl = \"https://cors-anywhere.herokuapp.com/\";\nconst url = \"https://us-central1-project-share-8df06.cloudfunctions.net/api/\";\n\nconst Posts = props => {\n  const [showComment, setComments] = useState(false);\n  const [liked, setLiked] = useState(null);\n  let comments = null;\n  let likes = parseInt(props.likes);\n  let likesButton = /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setLiked(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, \"Like\");\n\n  if (showComment) {\n    comments = /*#__PURE__*/React.createElement(Commenting, {\n      id: props.id,\n      token: props.token,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 13\n      }\n    });\n  }\n\n  if (liked == null) {\n    likesButton = /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setLiked(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }\n    }, \"Like\");\n  }\n\n  const like = () => {\n    const item = sessionStorage.getItem(props.id);\n\n    if (item == 'true') {\n      alert(\"You have already liked this post\");\n    } else {\n      const post = {\n        body: props.children,\n        author: props.author,\n        title: props.title,\n        category: props.category,\n        likes,\n        id: props.id\n      };\n      likes = post.likes + 1;\n      fetch(proxyUrl + url + 'likePost', {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"User-Agent\": \"PostmanRuntime/7.26.5\",\n          \"Accept\": \"*/*\",\n          \"Accept-Encoding\": \"gzip, deflate, br\",\n          \"Connection\": \"keep-alive\"\n        },\n        body: JSON.stringify(post)\n      }).then(() => {\n        sessionStorage.setItem(props.id, 'true');\n      });\n    }\n\n    ;\n  };\n\n  if (liked == true) {\n    like();\n    likesButton = /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setLiked(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, \"Unlike\");\n  }\n\n  const unlike = () => {\n    const post = {\n      body: props.children,\n      author: props.author,\n      title: props.title,\n      category: props.category,\n      likes: parseInt(props.likes + 1) - 1,\n      id: props.id\n    };\n    likes = props.likes + 1 - 1;\n    fetch(proxyUrl + url + 'unlikePost', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"User-Agent\": \"PostmanRuntime/7.26.5\",\n        \"Accept\": \"*/*\",\n        \"Accept-Encoding\": \"gzip, deflate, br\",\n        \"Connection\": \"keep-alive\"\n      },\n      body: JSON.stringify(post)\n    }).then(() => {\n      sessionStorage.removeItem(props.id);\n    });\n  };\n\n  if (liked == false) {\n    unlike();\n    likesButton = /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setLiked(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, \"Like\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: props.id,\n    className: \"post-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"post-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, props.title), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"post-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Category: \", /*#__PURE__*/React.createElement(\"a\", {\n    href: `http://localhost:3000/category/${props.category}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 52\n    }\n  }, props.category)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"post-author\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Author: \", /*#__PURE__*/React.createElement(\"a\", {\n    href: `http://localhost:3000/user/${props.author}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 48\n    }\n  }, props.author)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"post-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, props.children), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"post-likes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, likesButton, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 52\n    }\n  }, likes)), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"post-comment-button\",\n    onClick: () => setComments(!showComment),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"Comments\"), comments);\n};\n\nexport default Posts;","map":{"version":3,"sources":["C:/Users/sopan/OneDrive/Documents/Personal Projects/Project-Share/project-share/src/Components/Posts/Posts.js"],"names":["React","useState","Commenting","proxyUrl","url","Posts","props","showComment","setComments","liked","setLiked","comments","likes","parseInt","likesButton","id","token","like","item","sessionStorage","getItem","alert","post","body","children","author","title","category","fetch","method","headers","JSON","stringify","then","setItem","unlike","removeItem"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Commenting from './Comments';\r\n\r\nconst proxyUrl = \"https://cors-anywhere.herokuapp.com/\";\r\nconst url = \"https://us-central1-project-share-8df06.cloudfunctions.net/api/\";\r\nconst Posts = (props) => {\r\n    const [showComment, setComments] = useState(false);\r\n    const [liked, setLiked] = useState(null);\r\n\r\n    let comments = null;\r\n\r\n    let likes = parseInt(props.likes)\r\n    let likesButton = (\r\n        <button onClick={() => setLiked(true)}>Like</button>\r\n    );\r\n\r\n    if (showComment) {\r\n        comments = (\r\n            <Commenting id={props.id} token={props.token} />\r\n        )\r\n    }\r\n\r\n    if (liked == null) {\r\n        likesButton = (\r\n            <button onClick={() => setLiked(true)}>Like</button>\r\n        );\r\n    }\r\n\r\n    const like = () => {\r\n        const item = sessionStorage.getItem(props.id);\r\n        if(item == 'true') {\r\n            alert(\"You have already liked this post\");\r\n        } else {\r\n            const post = {\r\n                body: props.children,\r\n                author: props.author,\r\n                title: props.title,\r\n                category: props.category,\r\n                likes,\r\n                id: props.id\r\n            };\r\n\r\n            likes = post.likes + 1;\r\n\r\n            fetch(proxyUrl + url + 'likePost', {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"User-Agent\": \"PostmanRuntime/7.26.5\",\r\n                    \"Accept\": \"*/*\",\r\n                    \"Accept-Encoding\": \"gzip, deflate, br\",\r\n                    \"Connection\": \"keep-alive\"\r\n                },\r\n                body: JSON.stringify(post)\r\n            })\r\n            .then(() => {\r\n                sessionStorage.setItem(props.id, 'true');\r\n            })\r\n        };\r\n    }\r\n\r\n    if (liked == true) {\r\n        like();\r\n        likesButton = (\r\n            <button onClick={() => setLiked(false)}>Unlike</button>\r\n        )\r\n    }\r\n\r\n    const unlike = () => {\r\n        const post = {\r\n            body: props.children,\r\n            author: props.author,\r\n            title: props.title,\r\n            category: props.category,\r\n            likes: parseInt(props.likes + 1) - 1,\r\n            id: props.id\r\n        };\r\n\r\n        likes = props.likes + 1 - 1;\r\n\r\n        fetch(proxyUrl + url + 'unlikePost', {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"User-Agent\": \"PostmanRuntime/7.26.5\",\r\n                \"Accept\": \"*/*\",\r\n                \"Accept-Encoding\": \"gzip, deflate, br\",\r\n                \"Connection\": \"keep-alive\"\r\n            },\r\n            body: JSON.stringify(post)\r\n        })\r\n        .then(() => {\r\n            sessionStorage.removeItem(props.id);\r\n        })\r\n    }\r\n\r\n    if (liked == false) {\r\n        unlike();\r\n        likesButton = (\r\n            <button onClick={() => setLiked(true)}>Like</button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div key={props.id} className=\"post-content\">\r\n            <p className=\"post-title\">{props.title}</p>\r\n            <p className=\"post-category\">Category: <a href={`http://localhost:3000/category/${props.category}`}>{props.category}</a></p>\r\n            <p className=\"post-author\">Author: <a href={`http://localhost:3000/user/${props.author}`}>{props.author}</a></p>\r\n            <p className=\"post-body\">{props.children}</p>\r\n            <p className=\"post-likes\">{likesButton}<span>{likes}</span></p>\r\n            {/* Add Commenting */}\r\n            <button className=\"post-comment-button\" onClick={() => setComments(!showComment)}>Comments</button>\r\n            { comments}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts;"]},"metadata":{},"sourceType":"module"}