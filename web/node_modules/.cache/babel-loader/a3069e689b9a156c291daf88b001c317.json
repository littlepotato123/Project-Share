{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sopan\\\\OneDrive\\\\Documents\\\\Personal Projects\\\\Project-Share\\\\web\\\\src\\\\Pages\\\\Category Page\\\\CategoryPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Posts from '../../Components/Posts/Posts';\nimport { Fetch } from '../../Tools';\n\nconst CategoryPage = () => {\n  const [posts, setPosts] = useState([]);\n  const [description, setDescription] = useState('');\n  const {\n    name\n  } = useParams();\n  const history = useHistory();\n  useEffect(() => {\n    const f = async () => {\n      const res = await Fetch(`\n                {\n                    getCategory(category:\"${name}\") {\n                        id\n                        title\n                        description\n                    }  \n                }\n            `);\n    };\n\n    const scoped = async () => {\n      const res = await Fetch(`\n                    {\n                        categoryPosts(category:\"${name}\"){\n                            id\n                            title\n                            category\n                            likes\n                            body\n                            author\n                        }\n                    }\n            `);\n\n      if (res) {\n        setPosts(res.categoryPosts);\n      } else {\n        history.push('/home');\n      }\n    };\n\n    scoped();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center',\n      fontSize: '48px',\n      textDecoration: 'underline'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, name), posts.map(post => /*#__PURE__*/React.createElement(Posts, {\n    author: post.author,\n    id: post.id,\n    title: post.title,\n    category: post.category,\n    likes: post.likes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 35\n    }\n  }, post.body)));\n};\n\nexport default CategoryPage;","map":{"version":3,"sources":["C:/Users/sopan/OneDrive/Documents/Personal Projects/Project-Share/web/src/Pages/Category Page/CategoryPage.js"],"names":["React","useEffect","useState","useHistory","useParams","Posts","Fetch","CategoryPage","posts","setPosts","description","setDescription","name","history","f","res","scoped","categoryPosts","push","textAlign","fontSize","textDecoration","map","post","author","id","title","category","likes","body"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,SAASC,KAAT,QAAsB,aAAtB;;AAEA,MAAMC,YAAY,GAAG,MAAM;AACvB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACQ,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAWR,SAAS,EAA1B;AAEA,QAAMS,OAAO,GAAGV,UAAU,EAA1B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMa,CAAC,GAAG,YAAY;AAClB,YAAMC,GAAG,GAAG,MAAMT,KAAK,CAAE;;4CAEOM,IAAK;;;;;;aAFd,CAAvB;AASH,KAVD;;AAYA,UAAMI,MAAM,GAAG,YAAY;AACvB,YAAMD,GAAG,GAAG,MAAMT,KAAK,CAAE;;kDAEaM,IAAK;;;;;;;;;aAFpB,CAAvB;;AAYA,UAAGG,GAAH,EAAQ;AACJN,QAAAA,QAAQ,CAACM,GAAG,CAACE,aAAL,CAAR;AACH,OAFD,MAEO;AACHJ,QAAAA,OAAO,CAACK,IAAR,CAAa,OAAb;AACH;AACJ,KAlBD;;AAoBAF,IAAAA,MAAM;AACT,GAlCQ,EAkCN,EAlCM,CAAT;AAoCA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAE;AAAEG,MAAAA,SAAS,EAAE,QAAb;AAAuBC,MAAAA,QAAQ,EAAE,MAAjC;AAAyCC,MAAAA,cAAc,EAAE;AAAzD,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoFT,IAApF,CADJ,EAGQJ,KAAK,CAACc,GAAN,CAAUC,IAAI,iBAAI,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAEA,IAAI,CAACC,MAApB;AAA4B,IAAA,EAAE,EAAED,IAAI,CAACE,EAArC;AAAyC,IAAA,KAAK,EAAEF,IAAI,CAACG,KAArD;AAA4D,IAAA,QAAQ,EAAEH,IAAI,CAACI,QAA3E;AAAqF,IAAA,KAAK,EAAEJ,IAAI,CAACK,KAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0GL,IAAI,CAACM,IAA/G,CAAlB,CAHR,CADJ;AAQH,CAnDD;;AAqDA,eAAetB,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport Posts from '../../Components/Posts/Posts';\r\nimport { Fetch } from '../../Tools';\r\n\r\nconst CategoryPage = () => {\r\n    const [posts, setPosts] = useState([]);\r\n    const [description, setDescription] = useState('');\r\n    const { name } = useParams();\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const f = async () => {\r\n            const res = await Fetch(`\r\n                {\r\n                    getCategory(category:\"${name}\") {\r\n                        id\r\n                        title\r\n                        description\r\n                    }  \r\n                }\r\n            `)\r\n        }\r\n        \r\n        const scoped = async () => {\r\n            const res = await Fetch(`\r\n                    {\r\n                        categoryPosts(category:\"${name}\"){\r\n                            id\r\n                            title\r\n                            category\r\n                            likes\r\n                            body\r\n                            author\r\n                        }\r\n                    }\r\n            `);\r\n            if(res) {\r\n                setPosts(res.categoryPosts);\r\n            } else {\r\n                history.push('/home');\r\n            }\r\n        }\r\n\r\n        scoped();\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h1 style={{ textAlign: 'center', fontSize: '48px', textDecoration: 'underline' }}>{name}</h1>\r\n            { \r\n                posts.map(post => <Posts author={post.author} id={post.id} title={post.title} category={post.category} likes={post.likes}>{ post.body }</Posts>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CategoryPage;"]},"metadata":{},"sourceType":"module"}