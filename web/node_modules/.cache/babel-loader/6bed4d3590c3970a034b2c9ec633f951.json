{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sopan\\\\OneDrive\\\\Documents\\\\Personal Projects\\\\Project-Share\\\\project-share\\\\src\\\\Components\\\\New Post\\\\NewPost.js\";\nimport React from 'react';\nconst proxyUrl = \"https://cors-anywhere.herokuapp.com/\";\nconst url = \"https://us-central1-project-share-8df06.cloudfunctions.net/api/\";\n\nconst NewPost = () => {\n  const [token, setToken] = useState(null);\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [category, setCategory] = useState('');\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    setToken(sessionStorage.getItem('token'));\n    fetch(proxyUrl + url + 'getCategories').then(x => x.json()).then(data => setCategory(data)).then(() => console.log(categories));\n  });\n\n  const post = () => {\n    const data = {\n      title: title,\n      body: body,\n      category: category\n    };\n    fetch(proxyUrl + url + 'createPost', {\n      method: 'POST',\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n        \"User-Agent\": \"PostmanRuntime/7.26.5\",\n        \"Accept\": \"*/*\",\n        \"Accept-Encoding\": \"gzip, deflate, br\",\n        \"Connection\": \"keep-alive\"\n      },\n      body: JSON.stringify(data)\n    }).then(res => res.json()).then(() => alert(\"Successfully Posted\")).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    placeholder: \"Title of Post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    value: body,\n    onChange: e => setBody(e.target.value),\n    placeholder: \"Post Content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Post\"));\n};\n\nexport default NewPost;","map":{"version":3,"sources":["C:/Users/sopan/OneDrive/Documents/Personal Projects/Project-Share/project-share/src/Components/New Post/NewPost.js"],"names":["React","proxyUrl","url","NewPost","token","setToken","useState","title","setTitle","body","setBody","category","setCategory","categories","setCategories","useEffect","sessionStorage","getItem","fetch","then","x","json","data","console","log","post","method","headers","JSON","stringify","res","alert","catch","err","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,sCAAjB;AACA,MAAMC,GAAG,GAAG,iEAAZ;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAClB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBC,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBF,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACO,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAAC,EAAD,CAA5C;AAEAS,EAAAA,SAAS,CAAC,MAAM;AACZV,IAAAA,QAAQ,CAACW,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAD,CAAR;AAEAC,IAAAA,KAAK,CAACjB,QAAQ,GAAGC,GAAX,GAAiB,eAAlB,CAAL,CACKiB,IADL,CACUC,CAAC,IAAIA,CAAC,CAACC,IAAF,EADf,EAEKF,IAFL,CAEUG,IAAI,IAAIV,WAAW,CAACU,IAAD,CAF7B,EAGKH,IAHL,CAGU,MAAMI,OAAO,CAACC,GAAR,CAAYX,UAAZ,CAHhB;AAIH,GAPQ,CAAT;;AASA,QAAMY,IAAI,GAAG,MAAM;AACf,UAAMH,IAAI,GAAG;AACTf,MAAAA,KAAK,EAAEA,KADE;AAETE,MAAAA,IAAI,EAAEA,IAFG;AAGTE,MAAAA,QAAQ,EAAEA;AAHD,KAAb;AAKAO,IAAAA,KAAK,CAACjB,QAAQ,GAAGC,GAAX,GAAiB,YAAlB,EAAgC;AACjCwB,MAAAA,MAAM,EAAE,MADyB;AAEjCC,MAAAA,OAAO,EAAE;AACL,yBAAkB,UAASvB,KAAM,EAD5B;AAEL,wBAAgB,kBAFX;AAGL,sBAAc,uBAHT;AAIL,kBAAU,KAJL;AAKL,2BAAmB,mBALd;AAML,sBAAc;AANT,OAFwB;AAUjCK,MAAAA,IAAI,EAAEmB,IAAI,CAACC,SAAL,CAAeP,IAAf;AAV2B,KAAhC,CAAL,CAYCH,IAZD,CAYMW,GAAG,IAAIA,GAAG,CAACT,IAAJ,EAZb,EAaCF,IAbD,CAaM,MAAMY,KAAK,CAAC,qBAAD,CAbjB,EAcCC,KAdD,CAcQC,GAAD,IAASV,OAAO,CAACC,GAAR,CAAYS,GAAZ,CAdhB;AAeH,GArBD;;AAuBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAE1B,KAAd;AAAqB,IAAA,QAAQ,EAAE2B,CAAC,IAAI1B,QAAQ,CAAC0B,CAAC,CAACC,MAAF,CAASC,KAAV,CAA5C;AAA8D,IAAA,WAAW,EAAC,eAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAO,IAAA,KAAK,EAAE3B,IAAd;AAAoB,IAAA,QAAQ,EAAEyB,CAAC,IAAIxB,OAAO,CAACwB,CAAC,CAACC,MAAF,CAASC,KAAV,CAA1C;AAA4D,IAAA,WAAW,EAAC,cAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAQ,IAAA,OAAO,EAAEX,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,CADJ;AAOH,CA9CD;;AAgDA,eAAetB,OAAf","sourcesContent":["import React from 'react'\r\n\r\nconst proxyUrl = \"https://cors-anywhere.herokuapp.com/\";\r\nconst url = \"https://us-central1-project-share-8df06.cloudfunctions.net/api/\";\r\n\r\nconst NewPost = () => {\r\n    const [token, setToken] = useState(null);\r\n    const [title, setTitle] = useState('');\r\n    const [body, setBody] = useState('');\r\n    const [category, setCategory] = useState('');\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setToken(sessionStorage.getItem('token'));\r\n\r\n        fetch(proxyUrl + url + 'getCategories')\r\n            .then(x => x.json())\r\n            .then(data => setCategory(data))\r\n            .then(() => console.log(categories))\r\n    })\r\n\r\n    const post = () => {\r\n        const data = {\r\n            title: title,\r\n            body: body,\r\n            category: category\r\n        };\r\n        fetch(proxyUrl + url + 'createPost', {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Authorization\": `Bearer ${token}`,\r\n                \"Content-Type\": \"application/json\",\r\n                \"User-Agent\": \"PostmanRuntime/7.26.5\",\r\n                \"Accept\": \"*/*\",\r\n                \"Accept-Encoding\": \"gzip, deflate, br\",\r\n                \"Connection\": \"keep-alive\",\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then(res => res.json())\r\n        .then(() => alert(\"Successfully Posted\"))\r\n        .catch((err) => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <input value={title} onChange={e => setTitle(e.target.value)} placeholder=\"Title of Post\" />\r\n            <input value={body} onChange={e => setBody(e.target.value)} placeholder=\"Post Content\" />\r\n            <button onClick={post}>Post</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPost;"]},"metadata":{},"sourceType":"module"}